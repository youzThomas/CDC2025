:root {
	--space: #02223e;
	--space-2: #0b3a66;
	--text: #f2f6ff;
	--muted: #cddcf0;
	--panel: #0b2f54cc;
	--chip: #163557;
	--moon: #d4c1b6;
	--moon-2: #b9a79c;
	--earth-blue: #4b8fd4;
	--earth-green: #60c4d9;
	--earth-cloud: #f3f9ff;
	--accent: #60a6dc;
	--accent-soft: #8cc5f1;
	--shadow: 0 10px 30px rgba(3, 10, 28, 0.35);
}

/* Base */
* {
	box-sizing: border-box;
}
html,
body {
	height: 100%;
}
body {
	margin: 0;
	color: var(--text);
	background: radial-gradient(1400px 900px at 50% -20%, #1a5f9d 0%, #0c467a 45%, var(--space) 100%);
	font-family: 'Exo 2', 'Orbitron', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
		'Apple Color Emoji', 'Segoe UI Emoji';
	overflow-x: hidden;
}

/* Starfields */
.stars,
.stars2,
.stars3 {
	position: fixed;
	inset: 0;
	z-index: -1;
	pointer-events: none;
	background-repeat: repeat;
}
.stars {
	background-image: radial-gradient(2px 2px at 40px 60px, #fff 40%, transparent 41%),
		radial-gradient(2px 2px at 340px 120px, #fff 40%, transparent 41%),
		radial-gradient(1.5px 1.5px at 640px 300px, #fff 40%, transparent 41%),
		radial-gradient(1px 1px at 860px 500px, #fff 40%, transparent 41%);
	animation: twinkle 8s linear infinite;
}
.stars2 {
	opacity: 0.7;
	filter: blur(0.4px);
	background-image: radial-gradient(1.6px 1.6px at 140px 200px, #fff 40%, transparent 41%),
		radial-gradient(1.4px 1.4px at 540px 420px, #fff 40%, transparent 41%),
		radial-gradient(1.8px 1.8px at 940px 220px, #fff 40%, transparent 41%);
	animation: twinkle 10s linear infinite reverse;
}
.stars3 {
	opacity: 0.5;
	filter: blur(0.8px);
	background-image: radial-gradient(1.2px 1.2px at 240px 360px, #fff 40%, transparent 41%),
		radial-gradient(1.3px 1.3px at 780px 160px, #fff 40%, transparent 41%),
		radial-gradient(1.1px 1.1px at 1160px 560px, #fff 40%, transparent 41%);
	animation: twinkle 12s linear infinite;
}
@keyframes twinkle {
	0%,
	100% {
		opacity: 0.6;
	}
	50% {
		opacity: 1;
	}
}

/* Earth */
.earth {
	position: fixed;
	left: 50%;
	top: 46%;
	transform: translate(-50%, -50%);
	width: 240px;
	height: 240px;
	border-radius: 50%;
	box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.06), 0 0 60px rgba(91, 209, 255, 0.25) inset;
	background: radial-gradient(circle at 65% 40%, var(--earth-cloud) 0 14%, transparent 15%),
		radial-gradient(circle at 20% 60%, var(--earth-green) 0 22%, transparent 23%),
		radial-gradient(circle at 40% 35%, var(--earth-green) 0 18%, transparent 19%),
		radial-gradient(circle at 70% 70%, var(--earth-green) 0 16%, transparent 17%),
		radial-gradient(circle at 50% 50%, var(--earth-blue) 0 100%);
	animation: drift 60s linear infinite;
}
@keyframes drift {
	from {
		transform: translate(-50%, -50%) rotate(0);
	}
	to {
		transform: translate(-50%, -50%) rotate(360deg);
	}
}

/* Moon ground */
.moon {
	position: fixed;
	left: 0;
	right: 0;
	bottom: -2px;
	height: 34vh;
	z-index: 0;
	background:
    /* maria patches */ radial-gradient(120px 80px at 35% 55%, rgba(50, 60, 70, 0.28) 0, transparent 70%),
		radial-gradient(200px 110px at 70% 60%, rgba(50, 60, 70, 0.22) 0, transparent 72%),
		radial-gradient(90px 60px at 20% 80%, rgba(50, 60, 70, 0.2) 0, transparent 70%),
		radial-gradient(160% 100% at 50% 10%, var(--moon) 0%, #b8c0c7 50%, #a8b1ba 100%);
	clip-path: ellipse(140% 100% at 50% 100%);
	border-top: 1px solid rgba(255, 255, 255, 0.08);
}
/* --- MOON CRATERS: dense, layered --- */
.craters {
	position: absolute;
	inset: 0;
	opacity: 0.95;
}

/* Back layer: large/medium craters */
.craters::before {
	content: '';
	position: absolute;
	left: 0;
	right: 0;
	bottom: 10%;
	height: 70%;
	opacity: 0.42;
	background:
    /* big ones */ radial-gradient(closest-side, rgba(135, 145, 155, 0.85) 0 62%, transparent 63%) 12% 78% /
			140px 60px no-repeat,
		radial-gradient(closest-side, rgba(135, 145, 155, 0.85) 0 62%, transparent 63%) 28% 84% / 110px 50px no-repeat,
		radial-gradient(closest-side, rgba(135, 145, 155, 0.85) 0 62%, transparent 63%) 44% 76% / 160px 65px no-repeat,
		radial-gradient(closest-side, rgba(135, 145, 155, 0.85) 0 62%, transparent 63%) 66% 82% / 120px 54px no-repeat,
		radial-gradient(closest-side, rgba(135, 145, 155, 0.85) 0 62%, transparent 63%) 84% 74% / 130px 58px no-repeat,
		/* medium */ radial-gradient(closest-side, rgba(145, 155, 165, 0.75) 0 62%, transparent 63%) 19% 70% / 90px 42px
			no-repeat,
		radial-gradient(closest-side, rgba(145, 155, 165, 0.75) 0 62%, transparent 63%) 35% 86% / 86px 38px no-repeat,
		radial-gradient(closest-side, rgba(145, 155, 165, 0.75) 0 62%, transparent 63%) 58% 74% / 96px 44px no-repeat,
		radial-gradient(closest-side, rgba(145, 155, 165, 0.75) 0 62%, transparent 63%) 73% 88% / 88px 40px no-repeat,
		radial-gradient(closest-side, rgba(145, 155, 165, 0.75) 0 62%, transparent 63%) 90% 82% / 92px 42px no-repeat;
	filter: blur(0.2px);
}

/* Front layer: many small craters + faint rims */
.craters::after {
	content: '';
	position: absolute;
	left: 0;
	right: 0;
	bottom: 8%;
	height: 72%;
	opacity: 0.55;
	background:
    /* small cluster left */ radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%)
			9% 75% / 42px 20px no-repeat,
		radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%) 13% 82% / 34px 16px no-repeat,
		radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%) 16% 76% / 28px 14px no-repeat,
		/* mid cluster */ radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%) 38% 80% / 40px 18px
			no-repeat,
		radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%) 41% 86% / 32px 16px no-repeat,
		radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%) 47% 78% / 30px 14px no-repeat,
		/* right cluster */ radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%) 72% 84% / 44px
			20px no-repeat,
		radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%) 78% 78% / 34px 16px no-repeat,
		radial-gradient(closest-side, rgba(150, 160, 170, 0.7) 0 60%, transparent 61%) 86% 88% / 36px 18px no-repeat,
		/* scattered */ radial-gradient(closest-side, rgba(155, 165, 175, 0.6) 0 60%, transparent 61%) 24% 90% / 26px 12px
			no-repeat,
		radial-gradient(closest-side, rgba(155, 165, 175, 0.6) 0 60%, transparent 61%) 56% 90% / 22px 10px no-repeat,
		radial-gradient(closest-side, rgba(155, 165, 175, 0.6) 0 60%, transparent 61%) 64% 76% / 24px 12px no-repeat,
		radial-gradient(closest-side, rgba(155, 165, 175, 0.6) 0 60%, transparent 61%) 91% 74% / 24px 12px no-repeat;
	/* subtle rim highlights (inner shadow illusion) */
	box-shadow: inset 0 16px 30px rgba(0, 0, 0, 0.08);
	filter: drop-shadow(0 2px 0 rgba(0, 0, 0, 0.08));
}

/* Minimap */
#minimap {
	position: fixed;
	right: 14px;
	top: 76px;
	width: 120px;
	height: 120px;
	z-index: 10;
	cursor: pointer;
	filter: drop-shadow(0 6px 18px rgba(0, 0, 0, 0.35));
}
#minimap .dot {
	fill: #ffbf3f;
	stroke: #10243d;
	stroke-width: 0.6;
}

/* Nav & panels */
.nav {
	position: fixed;
	top: 28px;
	left: 50%;
	transform: translateX(-50%);
	display: flex;
	align-items: center;
	gap: 6px;
	padding: 9px 12px;
	border-radius: 999px;
	background: linear-gradient(120deg, rgba(255, 255, 255, 0.58) 0%, rgba(236, 244, 252, 0.34) 100%);
	border: 1px solid rgba(255, 255, 255, 0.6);
	box-shadow: 0 18px 32px rgba(7, 20, 45, 0.28);
	backdrop-filter: blur(22px) saturate(175%);
	-webkit-backdrop-filter: blur(22px) saturate(175%);
	width: fit-content;
	max-width: min(540px, calc(100% - 32px));
	z-index: 50;
	transition: transform 0.7s cubic-bezier(0.33, 1, 0.68, 1), box-shadow 0.7s cubic-bezier(0.33, 1, 0.68, 1);
	overflow: hidden;
	flex-wrap: wrap;
	isolation: isolate;
}
.nav::before {
	content: '';
	position: absolute;
	inset: 0;
	border-radius: inherit;
	background: linear-gradient(115deg, rgba(255, 255, 255, 0.72) 0%, rgba(255, 255, 255, 0.16) 55%, rgba(0, 24, 60, 0.08) 100%);
	opacity: 0.55;
	mix-blend-mode: screen;
	pointer-events: none;
	z-index: 0;
}
.nav::after {
	content: '';
	position: absolute;
	top: 8px;
	left: 18%;
	width: 64%;
	height: 10px;
	border-radius: 999px;
	background: rgba(255, 255, 255, 0.24);
	filter: blur(18px);
	opacity: 0.35;
	pointer-events: none;
	z-index: 0;
}

.nav:hover {
	transform: translateX(-50%) translateY(-2px);
	box-shadow: 0 24px 40px rgba(6, 14, 40, 0.48);
}

.nav > * {
	position: relative;
	z-index: 1;
}


.nav .chip {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 6px;
	padding: 10px 16px;
	border-radius: 18px;
	background: rgba(22, 53, 87, 0.78);
	color: rgba(229, 240, 255, 0.92);
	border: 1px solid rgba(255, 255, 255, 0.12);
	min-width: 96px;
	transition: transform 0.42s cubic-bezier(0.33, 1, 0.68, 1),
		background 0.6s cubic-bezier(0.33, 1, 0.68, 1), color 0.6s cubic-bezier(0.33, 1, 0.68, 1);
	font-weight: 600;
	letter-spacing: 0.02em;
	font-size: 0.78rem;
	box-shadow: 0 12px 24px rgba(5, 15, 36, 0.35);
}
.nav .chip:hover {
	transform: translateY(-2px);
	background: rgba(96, 166, 220, 0.85);
	color: #05203f;
}
.nav .chip.active {
	background: linear-gradient(180deg, rgba(140, 197, 241, 0.95), rgba(70, 136, 195, 0.92));
	color: #062042;
}

.scene {
	position: relative;
	min-height: 100vh;
	padding-top: 84px;
}
.wrapper {
	position: relative;
	z-index: 1;
	max-width: 1100px;
	margin: 0 auto;
	padding: 120px 24px 40vh;
	display: grid;
	gap: 28px;
}
.panel {
	background: var(--panel);
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 18px;
	padding: 24px;
	backdrop-filter: blur(4px);
}
#home {
	text-align: center;
}
#home p {
	max-width: 520px;
	margin: 0 auto;
}
.panel h2 {
	margin: 0 0 8px;
}
.panel p {
	color: var(--muted);
	line-height: 1.6;
}

section {
	display: none;
}
section.active {
	display: block;
}

.row {
	display: flex;
	gap: 12px;
	flex-wrap: wrap;
}

.chip {
	padding: 10px 14px;
	border-radius: 999px;
	background: rgba(22, 53, 87, 0.78);
	color: rgba(229, 240, 255, 0.92);
	border: 1px solid rgba(255, 255, 255, 0.12);
	cursor: pointer;
	user-select: none;
	transition: transform 0.42s cubic-bezier(0.33, 1, 0.68, 1), background 0.6s cubic-bezier(0.33, 1, 0.68, 1),
		color 0.6s cubic-bezier(0.33, 1, 0.68, 1);
	box-shadow: 0 12px 24px rgba(5, 15, 36, 0.35);
}
.chip:hover {
	transform: translateY(-2px);
	background: rgba(96, 166, 220, 0.85);
	color: #05203f;
}
.chip.active {
	background: linear-gradient(180deg, rgba(140, 197, 241, 0.95), rgba(70, 136, 195, 0.92));
	color: #062042;
}
.btn {
	background: var(--accent);
	color: #031731;
	border: 0;
	padding: 10px 14px;
	border-radius: 12px;
	cursor: pointer;
	box-shadow: var(--shadow);
}
.btn:disabled {
	opacity: 0.6;
	cursor: not-allowed;
}
select,
input[type='file'] {
	background: rgba(12, 44, 80, 0.78);
	color: #f1f6ff;
	border: 1px solid rgba(255, 255, 255, 0.16);
	padding: 10px 12px;
	border-radius: 10px;
}

/* Canvas */
canvas {
	background: rgba(10, 20, 35, 0.35);
	border-radius: 12px;
	width: 100%;
	max-height: 420px;
}

/* Chat */
.chat {
	display: grid;
	grid-template-rows: 1fr auto;
	gap: 12px;
	height: 420px;
}
.messages {
	overflow: auto;
	border: 1px solid rgba(255, 255, 255, 0.14);
	border-radius: 12px;
	padding: 12px;
	background: rgba(7, 30, 58, 0.68);
}
.msg {
	margin: 8px 0;
	padding: 10px 12px;
	border-radius: 12px;
	max-width: 75%;
}
.me {
	background: #124b88;
	margin-left: auto;
}
.bot {
	background: #10335b;
}

footer {
	position: fixed;
	right: 12px;
	bottom: 12px;
	font-size: 12px;
	opacity: 0.7;
}

/* Team Section */
#team {
	color: white;
	padding: 60px 20px;
	text-align: center;
}

.team-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
	gap: 20px;
	margin-top: 40px;
}

.member {
	background: rgba(255, 255, 255, 0.08);
	border: 1px solid rgba(255, 255, 255, 0.2);
	border-radius: 12px;
	padding: 20px;
	font-size: 1.2em;
	font-weight: bold;
	transition: transform 0.2s ease, background 0.2s ease;
}

.member:hover {
	transform: translateY(-6px);
	background: rgba(255, 255, 255, 0.15);
}

/* Story section */
#story {
	position: relative;
	padding: 80px 20px;
	color: white;
	min-height: 60vh;
}

/* Minimap: global background element */
.minimap {
	position: fixed; /* stays in corner of screen */
	top: 70px; /* below the nav bar */
	right: 20px;
	width: 150px;
	height: 150px;
	border-radius: 50%;
	background: radial-gradient(circle at 30% 30%, #bbb, #888);
	overflow: hidden;
	border: 2px solid #fff;
	box-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
	z-index: 5; /* above background, below nav */
}

.hidden {
	display: none;
}

.map-dot {
	position: absolute;
	width: 12px;
	height: 12px;
	background: red;
	border-radius: 50%;
	cursor: pointer;
	border: 1px solid #fff;
	transition: transform 0.2s ease;
}

.map-dot:hover {
	transform: scale(1.3);
}
